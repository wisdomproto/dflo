<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨ - 187 ÏÑ±Ïû•ÏºÄÏñ¥</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/admin.css">
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Ìó§Îçî -->
    <header>
        <div class="header-content-new">
            <div class="header-left">
                <div class="app-logo-new">üè•</div>
                <div class="app-title-new">
                    <h1>ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨</h1>
                    <p id="adminUserName">Í¥ÄÎ¶¨Ïûê</p>
                </div>
            </div>
            <div class="header-right">
                <button class="btn-icon-header" onclick="location.href='index.html'" title="ÌôàÏúºÎ°ú">
                    üè†
                </button>
            </div>
        </div>
    </header>

    <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
    <main class="admin-main">
        <!-- ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="recipes" onclick="switchAdminTab('recipes')">
                üç≥ Î†àÏãúÌîº
            </button>
            <button class="admin-tab" data-tab="cases" onclick="switchAdminTab('cases')">
                üåü ÏÇ¨Î°Ä
            </button>
            <button class="admin-tab" data-tab="guides" onclick="switchAdminTab('guides')">
                üìö Í∞ÄÏù¥Îìú
            </button>
        </div>

        <!-- Î†àÏãúÌîº Í¥ÄÎ¶¨ -->
        <div id="tab-recipes" class="admin-tab-content active">
            <div class="admin-section">
                <div class="admin-section-header">
                    <h2>üç≥ Í±¥Í∞ï Î†àÏãúÌîº Í¥ÄÎ¶¨</h2>
                    <button class="btn-primary" onclick="showRecipeForm()">‚ûï ÏÉà Î†àÏãúÌîº</button>
                </div>
                
                <!-- Î†àÏãúÌîº Ìèº -->
                <div id="recipeFormContainer" class="form-container" style="display: none;">
                    <form id="recipeForm" class="admin-form">
                        <input type="hidden" id="recipe_id">
                        
                        <div class="form-group">
                            <label>Î†àÏãúÌîº Î≤àÌò∏ *</label>
                            <input type="text" id="recipe_number" placeholder="Î†àÏãúÌîº 01" required>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏàúÏÑú *</label>
                            <input type="number" id="recipe_order" placeholder="1" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï†úÎ™© *</label>
                            <input type="text" id="recipe_title" placeholder="ÏπòÏ¶à Îã≠Í∞ÄÏä¥ÏÇ¥ Î≥∂ÏùåÎ∞•" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Ïù¥ÎØ∏ÏßÄ URL *</label>
                            <input type="url" id="recipe_image_url" placeholder="https://..." required>
                        </div>
                        
                        <div class="form-group">
                            <label>ÌïµÏã¨ Ìö®Îä• *</label>
                            <textarea id="recipe_key_benefits" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï£ºÏöî ÏòÅÏñëÏÜå (ÏâºÌëú Íµ¨Î∂Ñ) *</label>
                            <input type="text" id="recipe_main_nutrients" placeholder="ÏπºÏäò, Îã®Î∞±Ïßà, ÎπÑÌÉÄÎØº B12" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Ïû¨Î£å (JSON) *</label>
                            <textarea id="recipe_ingredients" rows="5" required></textarea>
                            <small>Ïòà: [{"name":"Î∞•","amount":"2Í≥µÍ∏∞"}]</small>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï°∞Î¶¨ ÏàúÏÑú (JSON) *</label>
                            <textarea id="recipe_steps" rows="5" required></textarea>
                            <small>Ïòà: [{"step":1,"description":"Îã≠Í∞ÄÏä¥ÏÇ¥ÏùÑ ÏûêÎ¶ÖÎãàÎã§"}]</small>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï°∞Î¶¨ ÌåÅ (ÏâºÌëú Íµ¨Î∂Ñ)</label>
                            <textarea id="recipe_tips" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏòÅÏñëÏÜå Î∂ÑÏÑù (JSON)</label>
                            <textarea id="recipe_growth_info" rows="3"></textarea>
                            <small>Ïòà: {"calcium":"450mg","protein":"35g"}</small>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Ï†ÄÏû•</button>
                            <button type="button" class="btn-secondary" onclick="hideRecipeForm()">Ï∑®ÏÜå</button>
                        </div>
                    </form>
                </div>
                
                <!-- Î†àÏãúÌîº Î™©Î°ù -->
                <div id="recipeList" class="admin-list"></div>
            </div>
        </div>

        <!-- ÏÇ¨Î°Ä Í¥ÄÎ¶¨ -->
        <div id="tab-cases" class="admin-tab-content">
            <div class="admin-section">
                <div class="admin-section-header">
                    <h2>üåü ÏÑ±Ïû• Í¥ÄÎ¶¨ ÏÇ¨Î°Ä</h2>
                    <button class="btn-primary" onclick="showCaseForm()">‚ûï ÏÉà ÏÇ¨Î°Ä</button>
                </div>
                
                <!-- ÏÇ¨Î°Ä Ìèº -->
                <div id="caseFormContainer" class="form-container" style="display: none;">
                    <form id="caseForm" class="admin-form">
                        <input type="hidden" id="case_id">
                        
                        <div class="form-group">
                            <label>ÌôòÏûê Ïù¥Î¶Ñ *</label>
                            <input type="text" id="case_patient_name" placeholder="ÍπÄÎØºÏàò" required>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏÑ±Î≥Ñ *</label>
                            <select id="case_gender" required>
                                <option value="">ÏÑ†ÌÉù</option>
                                <option value="male">ÎÇ®ÏïÑ</option>
                                <option value="female">Ïó¨ÏïÑ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏÉùÎÖÑÏõîÏùº *</label>
                            <input type="date" id="case_birth_date" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>ÏïÑÎ≤ÑÏßÄ ÌÇ§ (cm)</label>
                                <input type="number" id="case_father_height" step="0.1">
                            </div>
                            
                            <div class="form-group">
                                <label>Ïñ¥Î®∏Îãà ÌÇ§ (cm)</label>
                                <input type="number" id="case_mother_height" step="0.1">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏòàÏÉÅ ÏµúÏ¢Ö ÌÇ§ (cm)</label>
                            <input type="number" id="case_target_height" step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label>ÌäπÏù¥ÏÇ¨Ìï≠</label>
                            <textarea id="case_special_notes" rows="2"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï¢ÖÌï© ÏπòÎ£å Î©îÎ™®</label>
                            <textarea id="case_treatment_memo" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Ï∏°Ï†ï Í∏∞Î°ù (JSON) *</label>
                            <textarea id="case_measurements" rows="8" required></textarea>
                            <small>Ïòà: [{"date":"2025-01-15","height":145,"weight":40}]</small>
                        </div>
                        
                        <div class="form-group">
                            <label>ÏàúÏÑú</label>
                            <input type="number" id="case_order" placeholder="1">
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Ï†ÄÏû•</button>
                            <button type="button" class="btn-secondary" onclick="hideCaseForm()">Ï∑®ÏÜå</button>
                        </div>
                    </form>
                </div>
                
                <!-- ÏÇ¨Î°Ä Î™©Î°ù -->
                <div id="caseList" class="admin-list"></div>
            </div>
        </div>

        <!-- Í∞ÄÏù¥Îìú Í¥ÄÎ¶¨ -->
        <div id="tab-guides" class="admin-tab-content">
            <div class="admin-section">
                <div class="admin-section-header">
                    <h2>üìö ÏÑ±Ïû• Í∞ÄÏù¥Îìú</h2>
                    <button class="btn-primary" onclick="showGuideForm()">‚ûï ÏÉà Í∞ÄÏù¥Îìú</button>
                </div>
                
                <!-- Í∞ÄÏù¥Îìú Ìèº -->
                <div id="guideFormContainer" class="form-container" style="display: none;">
                    <form id="guideForm" class="admin-form">
                        <input type="hidden" id="guide_id">
                        
                        <div class="form-group">
                            <label>Ï†úÎ™© *</label>
                            <input type="text" id="guide_title" placeholder="ÏÑ±Ïû•Ìåê Í≤ÄÏÇ¨" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Î∂ÄÏ†úÎ™©</label>
                            <input type="text" id="guide_subtitle" placeholder="Í≤ÄÏÇ¨ ÏãúÍ∏∞ÏôÄ Î∞©Î≤ï">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>ÏïÑÏù¥ÏΩò</label>
                                <input type="text" id="guide_icon" placeholder="üè•" maxlength="2">
                            </div>
                            
                            <div class="form-group">
                                <label>Ïπ¥ÌÖåÍ≥†Î¶¨</label>
                                <input type="text" id="guide_category" placeholder="Í≤ÄÏÇ¨">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Ïù¥ÎØ∏ÏßÄ URL</label>
                            <input type="url" id="guide_image_url" placeholder="https://...">
                        </div>
                        
                        <div class="form-group">
                            <label>ÎÇ¥Ïö© *</label>
                            <textarea id="guide_content" rows="10" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Î∞∞ÎÑà ÏÉâÏÉÅ</label>
                            <input type="text" id="guide_banner_color" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
                        </div>
                        
                        <div class="form-group">
                            <label>ÏàúÏÑú *</label>
                            <input type="number" id="guide_order" placeholder="1" required>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Ï†ÄÏû•</button>
                            <button type="button" class="btn-secondary" onclick="hideGuideForm()">Ï∑®ÏÜå</button>
                        </div>
                    </form>
                </div>
                
                <!-- Í∞ÄÏù¥Îìú Î™©Î°ù -->
                <div id="guideList" class="admin-list"></div>
            </div>
        </div>
    </main>

    <!-- Toast -->
    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="js/supabase-config.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
