<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#14b8a6">
    <!-- iOS PWA ì§€ì› (iOS 13+ì—ì„œ ìë™ ì§€ì›ë¨) -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>187 ì„±ì¥ì¼€ì–´</title>
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/toast.css">
    <link rel="stylesheet" href="css/prediction-styles.css">
    <link rel="stylesheet" href="css/info.css">
    <link rel="stylesheet" href="css/recipe-card.css">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ë¡œê·¸ì¸ ì²´í¬ -->
    <script>
        // ì„¸ì…˜ í‚¤ (ì „ì—­)
        window.SESSION_KEY = 'growth_care_user';
        window.CHILDREN_KEY = 'growth_care_children';
        
        const SESSION_KEY = window.SESSION_KEY;
        const CHILDREN_KEY = window.CHILDREN_KEY;
        
        // ë¡œê·¸ì¸ í™•ì¸
        const userJson = sessionStorage.getItem(SESSION_KEY);
        if (!userJson) {
            // ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ
            alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
            window.location.href = 'index.html';
        } else {
            // ì‚¬ìš©ì ì •ë³´ íŒŒì‹±
            try {
                const user = JSON.parse(userJson);
                console.log('âœ… ë¡œê·¸ì¸ ì‚¬ìš©ì:', user.name, '(', user.email, ')');
                
                // ì•„ì´ ë°ì´í„° í™•ì¸
                const childrenJson = sessionStorage.getItem(CHILDREN_KEY);
                console.log('ğŸ” sessionStorageì—ì„œ ì•„ì´ ë°ì´í„° í™•ì¸:', childrenJson ? 'ìˆìŒ' : 'ì—†ìŒ');
                
                if (childrenJson) {
                    const children = JSON.parse(childrenJson);
                    console.log('âœ… ë¡œë“œëœ ì•„ì´ ë°ì´í„°:', children.length, 'ëª…');
                    console.log('ğŸ“‹ ì•„ì´ ë°ì´í„° ìƒì„¸:', children);
                    
                    // birth_dateë¥¼ birthDateë¡œ ì •ê·œí™” (í˜¸í™˜ì„±)
                    children.forEach(child => {
                        if (child.birth_date && !child.birthDate) {
                            child.birthDate = child.birth_date;
                        }
                        console.log(`  ğŸ” ${child.name}: birth_date=${child.birth_date}, birthDate=${child.birthDate}, measurements=${child.measurements ? child.measurements.length : 0}ê°œ`);
                    });
                    
                    // localStorageì—ë„ ì €ì¥ (StorageManagerê°€ ì‚¬ìš©)
                    localStorage.setItem('children', JSON.stringify(children));
                    console.log('âœ… localStorageì— ì•„ì´ ë°ì´í„° ì €ì¥ ì™„ë£Œ');
                    
                    // ì¸¡ì • ê¸°ë¡ì„ growthRecordsì— ì €ì¥
                    const growthRecords = {};
                    children.forEach(child => {
                        if (child.measurements && child.measurements.length > 0) {
                            growthRecords[child.id] = child.measurements.map(m => ({
                                date: m.measured_date,
                                height: parseFloat(m.height),
                                weight: parseFloat(m.weight),
                                age: parseFloat(m.actual_age || 0),
                                gender: child.gender,
                                notes: m.notes || ''  // ë©”ëª¨ ì¶”ê°€
                            }));
                            console.log(`  âœ… ${child.name}: ì¸¡ì • ê¸°ë¡ ${child.measurements.length}ê°œ ì €ì¥`);
                        } else {
                            growthRecords[child.id] = [];
                            console.log(`  âš ï¸ ${child.name}: ì¸¡ì • ê¸°ë¡ ì—†ìŒ`);
                        }
                    });
                    localStorage.setItem('growthRecords', JSON.stringify(growthRecords));
                    console.log('âœ… ì¸¡ì • ê¸°ë¡ ì €ì¥ ì™„ë£Œ:', Object.keys(growthRecords).length, 'ëª…');
                    
                    // ì¸¡ì • ê¸°ë¡ì´ ìˆëŠ” ì²« ë²ˆì§¸ ì•„ì´ë¥¼ ì„ íƒ (ìš°ì„  ìˆœìœ„)
                    if (children.length > 0) {
                        // ì¸¡ì • ê¸°ë¡ì´ ìˆëŠ” ì•„ì´ ì°¾ê¸°
                        const childWithData = children.find(c => c.measurements && c.measurements.length > 0);
                        const selectedId = childWithData ? childWithData.id : children[0].id;
                        
                        localStorage.setItem('selectedChildId', selectedId);
                        const selectedChild = childWithData || children[0];
                        console.log('âœ… ì„ íƒëœ ì•„ì´:', selectedChild.name, 
                                  '(ID:', selectedId, ',',
                                  'ì¸¡ì • ê¸°ë¡:', selectedChild.measurements?.length || 0, 'ê°œ)');
                    }
                    
                    // ì „ì—­ ë³€ìˆ˜ë¡œ ì €ì¥ (ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©)
                    window.currentUser = user;
                    window.currentChildren = children;
                } else {
                    console.warn('âš ï¸ sessionStorageì— ì•„ì´ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    window.currentUser = user;
                    window.currentChildren = [];
                    
                    // localStorageë„ ì´ˆê¸°í™”
                    localStorage.setItem('children', '[]');
                    localStorage.removeItem('selectedChildId');
                }
            } catch (error) {
                console.error('ì„¸ì…˜ íŒŒì‹± ì˜¤ë¥˜:', error);
                sessionStorage.clear();
                window.location.href = 'index.html';
            }
        }
    </script>
</head>
<body>
    <!-- ì•± í—¤ë” (ì•„ì´ ì„ íƒ í†µí•©) -->
    <header class="app-header-new">
        <div class="header-content-new">
            <div class="header-left">
                <div class="app-logo-new">ğŸŒ±</div>
                <div class="app-title-new">
                    <h1>187 ì„±ì¥ì¼€ì–´</h1>
                    <p>ì—°ì„¸ìƒˆë´„ì˜ì›</p>
                </div>
            </div>
            <div class="header-right">
                <button class="btn-icon-header" onclick="location.href='admin-dashboard.html'" title="ê´€ë¦¬ì í˜ì´ì§€" style="display: flex; align-items: center; gap: 4px; padding: 8px 12px; background: #8b5cf6; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.875rem; font-weight: 500; margin-right: 8px;">
                    <span>ğŸ‘¨â€âš•ï¸</span>
                    <span>ê´€ë¦¬ì</span>
                </button>
                <button class="btn-icon-header" onclick="logout()" title="ë¡œê·¸ì•„ì›ƒ" style="display: flex; align-items: center; gap: 4px; padding: 8px 12px; background: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.875rem; font-weight: 500;">
                    <span>ğŸšª</span>
                    <span>ë¡œê·¸ì•„ì›ƒ</span>
                </button>
            </div>
        </div>
        
        <!-- ì•„ì´ ì„ íƒ (ì»´íŒ©íŠ¸) -->
        <div class="child-selector-compact">
            <div class="child-selector-header">
                <span class="child-label">ğŸ‘¶ ìš°ë¦¬ ì•„ì´</span>
                <button class="btn-add-child" onclick="showAddChildModal()" title="ì•„ì´ ì¶”ê°€">
                    â•
                </button>
            </div>
            <div id="childrenList" class="children-list-compact"></div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <div class="container">

            <!-- ìš°ë¦¬ ì•„ì´ í˜„í™© (ë§¨ ìœ„) -->
            <div class="card">
                <h3 class="card-title">ğŸ‘¶ ìš°ë¦¬ ì•„ì´ í˜„í™©</h3>
                <div id="childStatsSlider" class="stats-slider"></div>
            </div>

            <!-- ì„±ì¥ ê°€ì´ë“œ ë°°ë„ˆ ìŠ¬ë¼ì´ë” -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h3 class="card-title" style="margin: 0;">ğŸ“š ì•„ì´ ì„±ì¥ ê°€ì´ë“œ</h3>
                    <a href="info.html" class="view-all-link">
                        ì „ì²´ë³´ê¸° â†’
                    </a>
                </div>
                <div class="banner-slider" id="bannerSlider"></div>
                <div class="banner-dots" id="bannerDots"></div>
            </div>

            <!-- ì˜¤ëŠ˜ì˜ ê±´ê°• ë ˆì‹œí”¼ ë°°ë„ˆ ìŠ¬ë¼ì´ë” (NEW) -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h3 class="card-title" style="margin: 0;">ğŸ³ ì˜¤ëŠ˜ì˜ ê±´ê°• ë ˆì‹œí”¼</h3>
                    <a href="info.html?tab=recipes" class="view-all-link">
                        ì „ì²´ë³´ê¸° â†’
                    </a>
                </div>
                <div class="banner-slider" id="recipeSlider"></div>
                <div class="banner-dots" id="recipeDots"></div>
            </div>

            <!-- ì²´í˜• ë¶„ì„ (NEW) -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h3 class="card-title" style="margin: 0;">ğŸƒ ì²´í˜• ë¶„ì„</h3>
                </div>
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 12px; color: white;">
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                        <div style="font-size: 48px;">ğŸ“¸</div>
                        <div>
                            <h4 style="margin: 0 0 8px 0; font-size: 16px;">AI ì²´í˜• ë¶„ì„</h4>
                            <p style="margin: 0; font-size: 13px; opacity: 0.9;">ì‚¬ì§„ í•œ ì¥ìœ¼ë¡œ ì²´í˜• ë¶„ì„</p>
                        </div>
                    </div>
                    <ul style="margin: 0 0 16px 20px; font-size: 13px; line-height: 1.8;">
                        <li>ì–´ê¹¨/ê³¨ë°˜ ê¸°ìš¸ê¸° ë¶„ì„</li>
                        <li>ê±°ë¶ëª© ìì„¸ ì²´í¬</li>
                        <li>ì‹¤ì‹œê°„ AI ë¶„ì„</li>
                    </ul>
                    <a href="body-analysis.html" style="display: block; background: white; color: #667eea; text-align: center; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: 600;">
                        ì²´í˜• ë¶„ì„ ì‹œì‘í•˜ê¸° â†’
                    </a>
                </div>
            </div>

            <!-- ì˜ˆìƒí‚¤ ì˜ˆì¸¡ ê¸°ë¡ -->
            <div class="card" id="predictionRecordsCard" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h3 class="card-title" style="margin: 0;">ğŸ¯ ì˜ˆìƒí‚¤ ì˜ˆì¸¡ ê¸°ë¡</h3>
                    <button class="btn-icon" onclick="showHeightPredictionModal()" title="ìƒˆ ì˜ˆì¸¡ ì¶”ê°€">
                        â•
                    </button>
                </div>
                <div id="predictionRecordsList"></div>
            </div>

            <!-- ì„±ì¥ ê´€ë¦¬ ì‚¬ë¡€ -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <h3 class="card-title" style="margin-bottom: 0;">ğŸŒŸ ì„±ì¥ ê´€ë¦¬ ì‚¬ë¡€</h3>
                    <a href="info.html?tab=cases" class="view-all-link">ì „ì²´ë³´ê¸° â†’</a>
                </div>
                
                <!-- ì¹˜ë£Œ ì‚¬ë¡€ ë°°ë„ˆ ìŠ¬ë¼ì´ë” -->
                <div style="position: relative;">
                    <div class="cases-slider" id="casesSlider" style="display: flex; gap: 12px; overflow-x: auto; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; scrollbar-width: none; margin-bottom: 12px;">
                        <!-- ì‚¬ë¡€ ì¹´ë“œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <!-- í˜ì´ì§€ë„¤ì´ì…˜ dots -->
                    <div style="display: flex; justify-content: center; gap: 6px; margin-top: 8px;" id="casesDots"></div>
                </div>
            </div>


        </div>
    </main>

    <!-- ì•„ì´ ì¶”ê°€/í¸ì§‘ ëª¨ë‹¬ -->
    <div class="modal" id="childModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">ì•„ì´ ì¶”ê°€</h3>
                <button class="modal-close" onclick="closeChildModal()">âœ•</button>
            </div>
            <form id="childForm" onsubmit="saveChild(event)">
                <div class="form-group">
                    <label for="childName">ì´ë¦„</label>
                    <input type="text" id="childName" placeholder="ì˜ˆ: ê¹€ë¯¼ìˆ˜" required>
                </div>
                <div class="form-group">
                    <label for="childGender">ì„±ë³„</label>
                    <select id="childGender" required>
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="male">ë‚¨ì•„ ğŸ‘¦</option>
                        <option value="female">ì—¬ì•„ ğŸ‘§</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="childBirthDate">ìƒë…„ì›”ì¼</label>
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 8px;">
                        <input type="number" id="childBirthYear" placeholder="2015" min="2000" max="2030" required style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 16px;">
                        <input type="number" id="childBirthMonth" placeholder="3" min="1" max="12" required style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 16px;">
                        <input type="number" id="childBirthDay" placeholder="15" min="1" max="31" required style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 16px;">
                    </div>
                    <div style="display: flex; gap: 8px; margin-top: 4px; font-size: 0.75rem; color: #64748b;">
                        <span style="flex: 2;">ì—°ë„ (ì˜ˆ: 2015)</span>
                        <span style="flex: 1;">ì›” (1-12)</span>
                        <span style="flex: 1;">ì¼ (1-31)</span>
                    </div>
                    <input type="hidden" id="childBirthDate" required>
                </div>
                <input type="hidden" id="editChildId">
                <div style="display: flex; gap: 8px; margin-top: 20px;">
                    <button type="button" class="btn btn-secondary" onclick="closeChildModal()" style="flex: 1;">
                        ì·¨ì†Œ
                    </button>
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                        ì €ì¥
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì˜ˆìƒí‚¤ ì˜ˆì¸¡ ëª¨ë‹¬ -->
    <div class="modal" id="heightPredictionModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“ ì˜ˆìƒí‚¤ ì˜ˆì¸¡ (Khamis-Roche ë°©ë²•)</h3>
                <button class="modal-close" onclick="closeHeightPredictionModal()">âœ•</button>
            </div>
            <form id="heightPredictionForm" onsubmit="calculatePredictedHeight(event)">
                <div class="form-group">
                    <label>ì•„ì´ ì„ íƒ</label>
                    <select id="predictionChildSelect" required onchange="loadChildCurrentData()">
                        <option value="">ì•„ì´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>
                </div>
                
                <div style="background: var(--bg-color); padding: 12px; border-radius: 12px; margin-bottom: 16px;">
                    <h4 style="font-size: 0.875rem; font-weight: 700; margin-bottom: 8px;">ğŸ‘¶ ì¸¡ì • ì •ë³´</h4>
                    <div class="form-group">
                        <label for="measurementDate">ì¸¡ì • ë‚ ì§œ</label>
                        <input type="date" id="measurementDate" required onchange="updatePredictionAge()">
                    </div>
                    <div class="form-group">
                        <label>ë§Œ ë‚˜ì´ (ìë™ ê³„ì‚°)</label>
                        <input type="text" id="calculatedAge" readonly style="background: #f0f0f0; color: #666;" placeholder="ì¸¡ì • ë‚ ì§œë¥¼ ì„ íƒí•˜ë©´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤">
                    </div>
                    <div class="form-group">
                        <label for="childCurrentHeight">ì¸¡ì • í‚¤ (cm)</label>
                        <input type="number" id="childCurrentHeight" placeholder="ì˜ˆ: 140.5" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="childCurrentWeight">ì¸¡ì • ëª¸ë¬´ê²Œ (kg)</label>
                        <input type="number" id="childCurrentWeight" placeholder="ì˜ˆ: 35.2" step="0.1" required>
                    </div>
                </div>
                
                <div style="background: #fef3c7; padding: 12px; border-radius: 12px; margin-bottom: 16px;">
                    <h4 style="font-size: 0.875rem; font-weight: 700; margin-bottom: 8px;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ë¶€ëª¨ í‚¤ ì •ë³´</h4>
                    <div class="form-group">
                        <label for="fatherHeight">ì•„ë²„ì§€ í‚¤ (cm)</label>
                        <input type="number" id="fatherHeight" placeholder="ì˜ˆ: 175" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="motherHeight">ì–´ë¨¸ë‹ˆ í‚¤ (cm)</label>
                        <input type="number" id="motherHeight" placeholder="ì˜ˆ: 162" step="0.1" required>
                    </div>
                </div>
                
                <div style="font-size: 0.75rem; color: var(--text-light); margin-bottom: 16px; line-height: 1.5;">
                    â„¹ï¸ Khamis-Roche ë°©ë²•ì€ 4-17ì„¸ ì•„ë™ì—ê²Œ ì ìš©ë©ë‹ˆë‹¤.<br>
                    í˜„ì¬ í‚¤, ì²´ì¤‘, ë¶€ëª¨ í‚¤ë¥¼ ì¢…í•©í•˜ì—¬ ì˜ˆì¸¡í•©ë‹ˆë‹¤.
                </div>
                
                <div style="display: flex; gap: 8px; margin-top: 20px;">
                    <button type="button" class="btn btn-secondary" onclick="closeHeightPredictionModal()" style="flex: 1;">
                        ì·¨ì†Œ
                    </button>
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                        ì˜ˆì¸¡í•˜ê¸°
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì˜ˆì¸¡ ê²°ê³¼ ëª¨ë‹¬ -->
    <div class="modal" id="predictionResultModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ¯ ì˜ˆìƒí‚¤ ì˜ˆì¸¡ ê²°ê³¼</h3>
                <button class="modal-close" onclick="closePredictionResultModal()">âœ•</button>
            </div>
            <div id="predictionResult"></div>
            <div style="display: flex; gap: 8px; margin-top: 20px;">
                <button type="button" class="btn btn-primary" onclick="closePredictionResultModal()" style="flex: 1;">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

    <!-- ì„±ì¥ ê·¸ë˜í”„ ëª¨ë‹¬ -->
    <div class="modal" id="growthChartModal" style="display: none;">
        <div class="modal-content" style="max-width: 95vw; width: 600px;">
            <div class="modal-header">
                <h3 id="chartModalTitle">ğŸ“ˆ ì„±ì¥ ê·¸ë˜í”„</h3>
                <button class="modal-close" onclick="closeGrowthChartModal()">âœ•</button>
            </div>
            <div style="height: 400px; margin: 20px 0;">
                <canvas id="homeGrowthChart"></canvas>
            </div>
            <div id="chartPredictionInfo"></div>
            <div style="display: flex; gap: 8px; margin-top: 20px;">
                <button type="button" class="btn btn-primary" onclick="closeGrowthChartModal()" style="flex: 1;">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- ë°°ë„ˆ ìƒì„¸ ëª¨ë‹¬ -->
    <div class="modal" id="bannerDetailModal" style="display: none;">
        <div class="modal-content" style="max-width: 95vw; width: 500px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 id="bannerDetailTitle">ğŸ“š ì„±ì¥ ê°€ì´ë“œ</h3>
                <button class="modal-close" onclick="closeBannerDetailModal()">âœ•</button>
            </div>
            <div id="bannerDetailContent"></div>
            <div style="display: flex; gap: 8px; margin-top: 20px; padding: 0 16px 16px;">
                <button type="button" class="btn btn-primary" onclick="closeBannerDetailModal()" style="flex: 1;">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- ì˜ˆì¸¡ ë°©ë²• ì„¤ëª… ëª¨ë‹¬ -->
    <div class="modal" id="predictionMethodModal" style="display: none;">
        <div class="modal-content" style="max-width: 95vw; width: 500px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 id="predictionMethodTitle">ğŸ“Š ì˜ˆì¸¡í‚¤ ì‚°ì • ë°©ë²•</h3>
                <button class="modal-close" onclick="closePredictionMethodModal()">âœ•</button>
            </div>
            <div id="predictionMethodContent"></div>
            <div style="display: flex; gap: 8px; margin-top: 20px; padding: 0 16px 16px;">
                <button type="button" class="btn btn-primary" onclick="closePredictionMethodModal()" style="flex: 1;">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

    <!-- ì¹˜ë£Œ ì‚¬ë¡€ ìƒì„¸ ëª¨ë‹¬ -->
    <div class="modal" id="caseDetailModal" style="display: none; padding: 8px;">
        <div class="modal-content" style="max-width: 100vw; width: 100%; max-height: 95vh; display: flex; flex-direction: column; padding: 0; border-radius: 12px;">
            <div style="position: absolute; top: 20px; right: 20px; z-index: 100;">
                <button class="modal-close" onclick="closeCaseDetailModal()" style="background: white; color: #000000; border: 2px solid #e5e7eb; width: 48px; height: 48px; border-radius: 50%; font-size: 1.75rem; cursor: pointer; box-shadow: 0 6px 16px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; font-weight: 800; transition: all 0.2s;">âœ•</button>
            </div>
            <div id="caseDetailBody" style="flex: 1; overflow-y: auto;"></div>
        </div>
    </div>

    <!-- í•˜ë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
        <a href="home.html" class="tab-item active">
            <div class="tab-icon">ğŸ </div>
            <div class="tab-label">í™ˆ</div>
        </a>
        <a href="routine.html" class="tab-item">
            <div class="tab-icon">ğŸ“</div>
            <div class="tab-label">ë°ì¼ë¦¬ë£¨í‹´</div>
        </a>
        <a href="info.html" class="tab-item">
            <div class="tab-icon">ğŸ“š</div>
            <div class="tab-label">ì„±ì¥ê°€ì´ë“œ</div>
        </a>
        <a href="https://pf.kakao.com/_ZxneSb" target="_blank" class="tab-item" id="kakaoConsult">
            <div class="tab-icon">ğŸ’¬</div>
            <div class="tab-label">ìƒë‹´í•˜ê¸°</div>
        </a>
    </nav>

    <script src="js/main.js"></script>
    <script src="js/growth-data.js"></script>
    <script src="js/korea-growth-standard.js"></script>
    
    <!-- ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜ (ë¨¼ì € ë¡œë“œ) -->
    <script>
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                console.log('ğŸšª ë¡œê·¸ì•„ì›ƒ ì¤‘...');
                
                // sessionStorage ëª¨ë‘ ì‚­ì œ
                const SESSION_KEY = 'growth_care_user';
                const CHILDREN_KEY = 'growth_care_children';
                sessionStorage.removeItem(SESSION_KEY);
                sessionStorage.removeItem(CHILDREN_KEY);
                
                // localStorageë„ ì´ˆê¸°í™”
                localStorage.removeItem('children');
                localStorage.removeItem('selectedChildId');
                
                console.log('âœ… ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ');
                
                // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = 'index.html';
            }
        }
        
        // ì „ì—­ìœ¼ë¡œ ë…¸ì¶œ
        window.logout = logout;
    </script>
    
    <script src="js/home.js"></script>

</body>
</html>
