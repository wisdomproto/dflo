<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini AI ì±—ë´‡ - ë¹ ë¥¸ ì‹œì‘</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui; padding: 20px; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; }
        .card { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 10px; }
        .warning { background: #fff3cd; border: 1px solid #ffc107; padding: 12px; border-radius: 8px; margin: 16px 0; }
        .warning strong { color: #856404; }
        .chat-box { height: 400px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px; padding: 16px; background: #f9f9f9; margin-bottom: 12px; }
        .message { margin-bottom: 12px; padding: 10px 14px; border-radius: 8px; max-width: 85%; }
        .user { background: #14b8a6; color: white; margin-left: auto; text-align: right; }
        .ai { background: white; border: 1px solid #ddd; }
        .input-group { display: flex; gap: 8px; }
        input { flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
        button { padding: 12px 24px; background: #14b8a6; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        button:hover { background: #0d9488; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        .config { background: #e8f5e9; padding: 12px; border-radius: 8px; margin-bottom: 16px; }
        .config input { width: 100%; }
        .setup-steps { background: #f0f9ff; padding: 16px; border-radius: 8px; border-left: 4px solid #14b8a6; }
        .setup-steps ol { margin-left: 20px; margin-top: 8px; }
        .setup-steps li { margin: 8px 0; line-height: 1.6; }
        code { background: #f4f4f4; padding: 2px 6px; border-radius: 4px; font-size: 13px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>ğŸ¤– Gemini AI ì±—ë´‡ - ë¹ ë¥¸ ì‹œì‘</h1>
            <p style="color: #666; margin-top: 8px;">Google Gemini APIë¥¼ ì‚¬ìš©í•œ ê°„ë‹¨í•œ AI ì±—ë´‡</p>
        </div>

        <div class="card setup-steps">
            <strong>ğŸ“‹ ì„¤ì • ë°©ë²• (1ë¶„):</strong>
            <ol>
                <li><a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: #14b8a6;">Google AI Studio</a>ì—ì„œ API í‚¤ ë°œê¸‰</li>
                <li>"Create API Key" í´ë¦­ â†’ API í‚¤ ë³µì‚¬</li>
                <li>ì•„ë˜ ì…ë ¥ë€ì— API í‚¤ ë¶™ì—¬ë„£ê¸°</li>
                <li>âš ï¸ <strong>HTTP ë¦¬í¼ëŸ¬ ì œí•œ ì„¤ì • í•„ìˆ˜!</strong> (Google Cloud Console)</li>
            </ol>
        </div>

        <div class="card">
            <div class="config">
                <label><strong>ğŸ”‘ API í‚¤ ì„¤ì •:</strong></label>
                <input type="password" id="apiKeyInput" placeholder="Google AI Studioì—ì„œ ë°œê¸‰ë°›ì€ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>

            <div class="warning">
                <strong>âš ï¸ ë³´ì•ˆ ê²½ê³ :</strong>
                <ul style="margin-left: 20px; margin-top: 8px;">
                    <li>ì´ ë°©ë²•ì€ <strong>í…ŒìŠ¤íŠ¸/ë°ëª¨ìš©</strong>ì…ë‹ˆë‹¤</li>
                    <li>API í‚¤ê°€ ë¸Œë¼ìš°ì €ì— ë…¸ì¶œë©ë‹ˆë‹¤</li>
                    <li>í”„ë¡œë•ì…˜ì—ì„œëŠ” <strong>Cloudflare Workers</strong> ì‚¬ìš© ê¶Œì¥</li>
                    <li>Google Cloud Consoleì—ì„œ <strong>ë¦¬í¼ëŸ¬ ì œí•œ</strong> ì„¤ì • í•„ìˆ˜</li>
                </ul>
            </div>

            <div class="chat-box" id="chatBox">
                <div class="message ai">
                    ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”! ì—°ì„¸ìƒˆë´„ì˜ì› 187 ì„±ì¥ í´ë¦¬ë‹‰ AI ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.<br>
                    ì•„ì´ì˜ ì„±ì¥ì— ê´€í•´ ê¶ê¸ˆí•œ ì ì„ ì§ˆë¬¸í•´ì£¼ì„¸ìš”!
                </div>
            </div>

            <div class="input-group">
                <input type="text" id="userInput" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”... (ì˜ˆ: ìš°ë¦¬ ì•„ì´ í‚¤ê°€ ì‘ì€ë° ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?)">
                <button onclick="sendMessage()" id="sendBtn">ì „ì†¡</button>
            </div>
        </div>
    </div>

    <script>
        const SYSTEM_PROMPT = `ë‹¹ì‹ ì€ ì—°ì„¸ìƒˆë´„ì˜ì› 187 ì„±ì¥ í´ë¦¬ë‹‰ì˜ ì „ë¬¸ ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.

ì „ë¬¸ ë¶„ì•¼:
- ì•„ì´ ì„±ì¥ ë°œë‹¬
- ì„±ì¥í˜¸ë¥´ëª¬ ì¹˜ë£Œ
- ì„±ì¡°ìˆ™ì¦ ì§„ë‹¨ ë° ì¹˜ë£Œ
- ì˜ì–‘/ìš´ë™/ìˆ˜ë©´ ê´€ë¦¬

ìƒë‹´ ì›ì¹™:
1. ì¹œì ˆí•˜ê³  ì „ë¬¸ì ìœ¼ë¡œ ë‹µë³€
2. í•œêµ­ì–´ë¡œ ë‹µë³€
3. 200ì ì´ë‚´ë¡œ ê°„ê²°í•˜ê²Œ
4. í•„ìš”ì‹œ ë³‘ì› ë°©ë¬¸ ê¶Œìœ 

ì—°ì„¸ìƒˆë´„ì˜ì›:
- ì „í™”: 02-1234-5678
- ì§„ë£Œ: í‰ì¼ 09:00-18:00`;

        let apiKey = '';

        // API í‚¤ ì…ë ¥ ê°ì§€
        document.getElementById('apiKeyInput').addEventListener('input', (e) => {
            apiKey = e.target.value.trim();
        });

        // ì—”í„°í‚¤ ì „ì†¡
        document.getElementById('userInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            const sendBtn = document.getElementById('sendBtn');

            if (!message) return;

            if (!apiKey) {
                alert('âš ï¸ API í‚¤ë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”!');
                document.getElementById('apiKeyInput').focus();
                return;
            }

            // ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ
            addMessage('user', message);
            input.value = '';
            sendBtn.disabled = true;
            sendBtn.textContent = 'ì „ì†¡ ì¤‘...';

            try {
                // Gemini API í˜¸ì¶œ
                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`,
                    {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: `${SYSTEM_PROMPT}\n\nì‚¬ìš©ì ì§ˆë¬¸: ${message}`
                                }]
                            }],
                            generationConfig: {
                                maxOutputTokens: 500,
                                temperature: 0.7,
                            }
                        })
                    }
                );

                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.error?.message || 'API í˜¸ì¶œ ì‹¤íŒ¨');
                }

                const data = await response.json();
                const aiResponse = data.candidates[0].content.parts[0].text;

                // AI ì‘ë‹µ í‘œì‹œ
                addMessage('ai', aiResponse);

            } catch (error) {
                console.error('ì˜¤ë¥˜:', error);
                addMessage('ai', `âš ï¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
            } finally {
                sendBtn.disabled = false;
                sendBtn.textContent = 'ì „ì†¡';
            }
        }

        function addMessage(role, text) {
            const chatBox = document.getElementById('chatBox');
            const div = document.createElement('div');
            div.className = `message ${role}`;
            div.textContent = role === 'user' ? text : `ğŸ¤– ${text}`;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    </script>
</body>
</html>
